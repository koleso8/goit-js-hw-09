{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const refs = {\n  formEl: document.querySelector('.feedback-form'),\n};\nconst LOCAL_KEY = 'feedback-form-state';\nconst formData = JSON.parse(localStorage.getItem(LOCAL_KEY)) || {\n  email: '',\n  message: '',\n};\n\nrefs.formEl.addEventListener('input', e => {\n  formData[e.target.name] = e.target.value.trim();\n\n  saveToLs(LOCAL_KEY, formData);\n\n  function saveToLs(key, value) {\n    const json = JSON.stringify(value);\n    localStorage.setItem(key, json);\n    console.log(json);\n  }\n});\n\nfunction loadFromLs(key) {\n  const json = localStorage.getItem(key);\n  try {\n    const data = JSON.parse(json);\n    return data;\n  } catch {\n    return json;\n  }\n}\n\nfunction setDataToForm() {\n  const loadStorage = loadFromLs('feedback-form-state');\n  if (loadStorage === null) return;\n  const keys = Object.keys(formData);\n\n  keys.forEach(key => {\n    refs.formEl.elements[key].value = loadStorage[key];\n  });\n}\nsetDataToForm();\n//refs.formEl.elements.message.value = loadStorage.message;\n"],"names":["refs","LOCAL_KEY","formData","e","saveToLs","key","value","json","loadFromLs","setDataToForm","loadStorage"],"mappings":"wFAAA,MAAMA,EAAO,CACX,OAAQ,SAAS,cAAc,gBAAgB,CACjD,EACMC,EAAY,sBACZC,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAS,CAAC,GAAK,CAC9D,MAAO,GACP,QAAS,EACX,EAEAD,EAAK,OAAO,iBAAiB,QAASG,GAAK,CACzCD,EAASC,EAAE,OAAO,IAAI,EAAIA,EAAE,OAAO,MAAM,OAEzCC,EAASH,EAAWC,CAAQ,EAE5B,SAASE,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAO,KAAK,UAAUD,CAAK,EACjC,aAAa,QAAQD,EAAKE,CAAI,EAC9B,QAAQ,IAAIA,CAAI,CACjB,CACH,CAAC,EAED,SAASC,EAAWH,EAAK,CACvB,MAAME,EAAO,aAAa,QAAQF,CAAG,EACrC,GAAI,CAEF,OADa,KAAK,MAAME,CAAI,CAEhC,MAAU,CACN,OAAOA,CACR,CACH,CAEA,SAASE,GAAgB,CACvB,MAAMC,EAAcF,EAAW,qBAAqB,EACpD,GAAIE,IAAgB,KAAM,OACb,OAAO,KAAKR,CAAQ,EAE5B,QAAQG,GAAO,CAClBL,EAAK,OAAO,SAASK,CAAG,EAAE,MAAQK,EAAYL,CAAG,CACrD,CAAG,CACH,CACAI"}